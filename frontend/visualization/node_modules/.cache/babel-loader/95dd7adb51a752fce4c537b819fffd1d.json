{"ast":null,"code":"var _jsxFileName = \"/Users/deepika/Documents/Visualization_D3_React_JS/Lab2/frontend/visualization/src/components/BarChart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function BarChart({\n  csvdata\n}) {\n  _s();\n\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n\n  const clearBoard = () => {\n    const accessToRef = d3.select(svgRef.current);\n    accessToRef.selectAll(\"svg > *\").remove();\n  };\n\n  const horizontal = data => {\n    // D3 code here\n    const svg = d3.select(svgRef.current); // Define the chart dimensions\n\n    const width = 900;\n    const height = 300; // Create the scales for x and y axes\n\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, d => d.expectancy)]).range([0, width]);\n    const yScale = d3.scaleBand().domain(data.map(d => d.country)).range([0, height]).padding(0.2); // Create the x and y axes\n\n    const xAxis = d3.axisBottom().scale(xScale);\n    const yAxis = d3.axisLeft().scale(yScale); // Draw the x and y axes\n\n    svg.select('.x-axis').call(xAxis);\n    svg.select('.y-axis').call(yAxis); // Draw the bars\n\n    svg.selectAll('.bar').data(data).enter().append('rect').attr('class', 'bar').attr('x', 0).attr('y', d => yScale(d.country)).attr('width', d => xScale(d.expectancy)).attr('height', yScale.bandwidth()).attr('fill', 'steelblue');\n  };\n\n  const draw = data => {\n    // Define the chart dimensions\n    const width = 700;\n    const height = 500; // D3 code here\n\n    const svg = d3.select(svgRef.current).attr(\"height\", height).attr(\"width\", width).style(\"background-color\", \"white\"); // Create the scales for x and y axes\n\n    const xScale = d3.scaleBand().domain(data.map(d => d.country)).range([0, width]).padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.expectancy)]).range([height, 0]); // Create the x and y axes\n\n    const xAxis = d3.axisBottom().scale(xScale);\n    const yAxis = d3.axisLeft().scale(yScale); // Draw the x and y axes\n\n    svg.select('.x-axis').attr('transform', `translate(0, ${height})`).call(xAxis);\n    svg.select('.y-axis').call(yAxis); // Draw the bars\n\n    svg.selectAll('.bar').data(data).enter().append('rect').attr('class', 'bar').attr('x', d => xScale(d.country)).attr('y', d => yScale(d.expectancy)).attr('width', xScale.bandwidth()).attr('height', d => height - yScale(d.expectancy)).attr('fill', 'steelblue');\n  };\n\n  useEffect(() => {\n    console.log(\"here\");\n    clearBoard();\n    let data = [];\n\n    for (var i = 0; i < csvdata.country.length; i++) {\n      let obj = {};\n      obj.country = csvdata.country[i];\n      obj.expectancy = csvdata.expectancy[i];\n      data.push(obj);\n    }\n\n    horizontal(data); // draw(data);\n  }, [csvdata]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: wrapperRef,\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      children: [/*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"x-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BarChart, \"wHGsJvYloKVvWo8EGgYwue3juQs=\");\n\n_c = BarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"sources":["/Users/deepika/Documents/Visualization_D3_React_JS/Lab2/frontend/visualization/src/components/BarChart.js"],"names":["React","useEffect","useRef","d3","BarChart","csvdata","svgRef","wrapperRef","clearBoard","accessToRef","select","current","selectAll","remove","horizontal","data","svg","width","height","xScale","scaleLinear","domain","max","d","expectancy","range","yScale","scaleBand","map","country","padding","xAxis","axisBottom","scale","yAxis","axisLeft","call","enter","append","attr","bandwidth","draw","style","console","log","i","length","obj","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as d3 from \"d3\";\n\nexport function BarChart({csvdata}){\n\n    const svgRef = useRef();\n    const wrapperRef = useRef();\n\n    const clearBoard=()=>{\n        const accessToRef = d3.select(svgRef.current)\n        accessToRef.selectAll(\"svg > *\").remove();\n    }\n\n    const horizontal = (data) => {\n        // D3 code here\n        const svg = d3.select(svgRef.current);\n\n        // Define the chart dimensions\n        const width = 900;\n        const height = 300;\n\n        // Create the scales for x and y axes\n        const xScale = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.expectancy)])\n        .range([0, width]);\n\n        const yScale = d3\n        .scaleBand()\n        .domain(data.map((d) => d.country))\n        .range([0, height])\n        .padding(0.2);\n\n        // Create the x and y axes\n        const xAxis = d3.axisBottom().scale(xScale);\n        const yAxis = d3.axisLeft().scale(yScale);\n\n        // Draw the x and y axes\n        svg.select('.x-axis').call(xAxis);\n        svg.select('.y-axis').call(yAxis);\n\n        // Draw the bars\n        svg\n        .selectAll('.bar')\n        .data(data)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('x', 0)\n        .attr('y', (d) => yScale(d.country))\n        .attr('width', (d) => xScale(d.expectancy))\n        .attr('height', yScale.bandwidth())\n        .attr('fill', 'steelblue');\n    }\n\n    const draw = (data)=>{\n\n\n        // Define the chart dimensions\n        const width = 700;\n        const height = 500;\n        // D3 code here\n        const svg = d3.select(svgRef.current)\n                        .attr(\"height\",height)\n                        .attr(\"width\",width)\n                        .style(\"background-color\",\"white\");\n\n       \n\n        \n\n        // Create the scales for x and y axes\n        const xScale = d3\n        .scaleBand()\n        .domain(data.map((d) => d.country))\n        .range([0, width])\n        .padding(0.2);\n\n        const yScale = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.expectancy)])\n        .range([height, 0]);\n\n        // Create the x and y axes\n        const xAxis = d3.axisBottom().scale(xScale);\n        const yAxis = d3.axisLeft().scale(yScale);\n\n        // Draw the x and y axes\n        svg\n        .select('.x-axis')\n        .attr('transform', `translate(0, ${height})`)\n        .call(xAxis);\n\n        svg.select('.y-axis').call(yAxis);\n\n        // Draw the bars\n        svg\n        .selectAll('.bar')\n        .data(data)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('x', (d) => xScale(d.country))\n        .attr('y', (d) => yScale(d.expectancy))\n        .attr('width', xScale.bandwidth())\n        .attr('height', (d) => height - yScale(d.expectancy))\n        .attr('fill', 'steelblue');\n    }\n\n    useEffect(()=>{\n        console.log(\"here\")\n        clearBoard();\n        let data = []\n        for(var i=0;i<csvdata.country.length;i++){\n            let obj = {};\n            obj.country = csvdata.country[i];\n            obj.expectancy = csvdata.expectancy[i];\n            data.push(obj);\n        }\n        horizontal(data);\n        // draw(data);\n        \n    },[csvdata])\n    \n    return (\n        <div ref={wrapperRef}>\n          <svg ref={svgRef}>\n          <g className=\"x-axis\"/>\n            <g className=\"y-axis\" />\n          </svg>\n        </div>\n      );\n}"]},"metadata":{},"sourceType":"module"}