{"ast":null,"code":"var _jsxFileName = \"/Users/deepika/Documents/Visualization_D3_React_JS/Lab2/frontend/visualization/src/components/BarChart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function BarChart({\n  csvdata\n}) {\n  _s();\n\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n\n  const clearBoard = () => {\n    const accessToRef = d3.select(svgRef.current);\n    accessToRef.selectAll(\"svg > *\").remove();\n  };\n\n  const horizontal = data => {\n    // Define the chart dimensions\n    const width = 500;\n    const height = 400; // D3 code here\n\n    const svg = d3.select(svgRef.current).attr(\"height\", height).attr(\"width\", width).style(\"background-color\", \"white\"); // Add X axis\n\n    var x = d3.scaleLinear().domain([0, d3.max(data, d => d.expectancy)]).range([0, width]);\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\"); // Y axis\n\n    var y = d3.scaleBand().range([0, height]).domain(data.map(function (d) {\n      return d.country;\n    })).padding(.1);\n    svg.append(\"g\").call(d3.axisLeft(y)); //Bars\n\n    svg.selectAll(\"myRect\").data(data).enter().append(\"rect\").attr(\"x\", x(0)).attr(\"y\", function (d) {\n      return y(d.country);\n    }).attr(\"width\", function (d) {\n      return x(d.expectancy);\n    }).attr(\"height\", y.bandwidth()).attr(\"fill\", \"#69b3a2\");\n  };\n\n  useEffect(() => {\n    console.log(\"here\");\n    clearBoard();\n    let data = [];\n\n    for (var i = 0; i < csvdata.country.length; i++) {\n      let obj = {};\n      obj.country = csvdata.country[i];\n      obj.expectancy = csvdata.expectancy[i];\n      data.push(obj);\n    }\n\n    horizontal(data); // draw(data);\n  }, [csvdata]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: wrapperRef,\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      style: {\n        width: \"500px\",\n        height: \"400px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BarChart, \"wHGsJvYloKVvWo8EGgYwue3juQs=\");\n\n_c = BarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"sources":["/Users/deepika/Documents/Visualization_D3_React_JS/Lab2/frontend/visualization/src/components/BarChart.js"],"names":["React","useEffect","useRef","d3","BarChart","csvdata","svgRef","wrapperRef","clearBoard","accessToRef","select","current","selectAll","remove","horizontal","data","width","height","svg","attr","style","x","scaleLinear","domain","max","d","expectancy","range","append","call","axisBottom","y","scaleBand","map","country","padding","axisLeft","enter","bandwidth","console","log","i","length","obj","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as d3 from \"d3\";\n\nexport function BarChart({csvdata}){\n\n    const svgRef = useRef();\n    const wrapperRef = useRef();\n\n    const clearBoard=()=>{\n        const accessToRef = d3.select(svgRef.current)\n        accessToRef.selectAll(\"svg > *\").remove();\n    }\n\n    const horizontal = (data) => {\n\n        // Define the chart dimensions\n        const width = 500;\n        const height = 400;\n        // D3 code here\n        const svg = d3.select(svgRef.current)\n                        .attr(\"height\",height)\n                        .attr(\"width\",width)\n                        .style(\"background-color\",\"white\");\n\n        // Add X axis\n        var x = d3.scaleLinear()\n        .domain([0, d3.max(data, (d) => d.expectancy)])\n        .range([ 0, width]);\n        \n        svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))\n        .selectAll(\"text\")\n            .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n            .style(\"text-anchor\", \"end\");\n\n        // Y axis\n        var y = d3.scaleBand()\n        .range([ 0, height ])\n        .domain(data.map(function(d) { return d.country; }))\n        .padding(.1);\n        svg.append(\"g\")\n        .call(d3.axisLeft(y))\n\n        //Bars\n        svg.selectAll(\"myRect\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", x(0) )\n        .attr(\"y\", function(d) { return y(d.country); })\n        .attr(\"width\", function(d) { return x(d.expectancy); })\n        .attr(\"height\", y.bandwidth() )\n        .attr(\"fill\", \"#69b3a2\")\n\n\n      \n    }\n\n    \n\n    useEffect(()=>{\n        console.log(\"here\")\n        clearBoard();\n        let data = []\n        for(var i=0;i<csvdata.country.length;i++){\n            let obj = {};\n            obj.country = csvdata.country[i];\n            obj.expectancy = csvdata.expectancy[i];\n            data.push(obj);\n        }\n        horizontal(data);\n        // draw(data);\n        \n    },[csvdata])\n    \n    return (\n        <div ref={wrapperRef}>\n          <svg ref={svgRef} style={{width:\"500px\",height:\"400px\"}}>\n          </svg>\n        </div>\n      );\n}"]},"metadata":{},"sourceType":"module"}