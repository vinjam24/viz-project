{"ast":null,"code":"var _jsxFileName = \"/Users/deepika/Documents/Visualization_D3_React_JS/Lab2/frontend/visualization/src/components/YearChart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from \"d3\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function YearChart({\n  country\n}) {\n  _s();\n\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n\n  const clearBoard = () => {\n    const accessToRef = d3.select(svgRef.current);\n    accessToRef.selectAll(\"svg > *\").remove();\n  };\n\n  const draw = data => {\n    // set the dimensions and margins of the graph\n    var margin = {\n      top: 10,\n      right: 30,\n      bottom: 90,\n      left: 40\n    },\n        width = 460 - margin.left - margin.right,\n        height = 450 - margin.top - margin.bottom; // append the svg object to the body of the page\n\n    var svg = d3.select(svgRef.current).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // X axis\n\n    var x = d3.scaleBand().range([0, width]).domain(data.map(function (d) {\n      return d.year;\n    })).padding(0.2);\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\"); // Add Y axis\n\n    var y = d3.scaleLinear().domain([0, d3.max(data, d => d.expectancy)]).range([height, 0]);\n    svg.append(\"g\").call(d3.axisLeft(y)); // Bars\n\n    svg.selectAll(\"mybar\").data(data).enter().append(\"rect\").attr(\"x\", function (d) {\n      return x(d.year);\n    }).attr(\"width\", x.bandwidth()).attr(\"fill\", \"#69b3a2\") // no bar at the beginning thus:\n    .attr(\"height\", function (d) {\n      return height - y(0);\n    }) // always equal to 0\n    .attr(\"y\", function (d) {\n      return y(0);\n    }); // Animation\n\n    svg.selectAll(\"rect\").transition().duration(800).attr(\"y\", function (d) {\n      return y(d.expectancy);\n    }).attr(\"height\", function (d) {\n      return height - y(d.expectancy);\n    }).delay(function (d, i) {\n      console.log(i);\n      return i * 100;\n    });\n  };\n\n  const horizontal = data => {\n    // D3 code here\n    var margin = {\n      top: 20,\n      right: 30,\n      bottom: 40,\n      left: 90\n    },\n        width = 460 - margin.left - margin.right,\n        height = 400 - margin.top - margin.bottom; // append the svg object to the body of the page\n\n    var svg = d3.select(svgRef.current).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom) // .style(\"background-color\",\"red\")\n    .append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // Add X axis\n\n    var x = d3.scaleLinear().domain([0, d3.max(data, d => d.expectancy)]).range([0, width]);\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\").attr('fill', 'blue'); // Y axis\n\n    var y = d3.scaleBand().range([0, height]).domain(data.map(function (d) {\n      return d.year;\n    })).padding(.1);\n    svg.append(\"g\").call(d3.axisLeft(y)).selectAll(\"text\").attr('fill', 'blue'); //Bars\n\n    svg.selectAll(\"myRect\").data(data).enter().append(\"rect\").attr(\"x\", x(0)).attr(\"y\", function (d) {\n      return y(d.year);\n    }).attr(\"width\", function (d) {\n      return x(d.expectancy - 10);\n    }).attr(\"height\", y.bandwidth()) // .attr(\"fill\", \"#69b3a2\")\n    .attr(\"fill\", \"pink\").on('click', d => {\n      console.log(\"here\", d);\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"year chart\");\n    axios({\n      method: \"GET\",\n      url: \"http://localhost:8000/getAllData\"\n    }).then(repos => {\n      const allRepos = repos.data;\n      let parsedResponse = JSON.parse(allRepos);\n      let tmpData = [];\n      parsedResponse.forEach(ele => {\n        if (ele.Country == country) {\n          let obj = {};\n          obj.year = ele.Year;\n          obj.expectancy = ele['Life Expectancy'];\n          tmpData.push(obj);\n        }\n      });\n      tmpData = [...tmpData].sort((a, b) => b.year - a.year);\n      clearBoard(); // horizontal(tmpData);\n\n      draw(tmpData); // setScreeState(allRepos);\n    }); // draw(data);\n  }, [country]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: wrapperRef,\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      style: {\n        width: \"500px\",\n        height: \"400px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 9\n  }, this);\n}\n\n_s(YearChart, \"wHGsJvYloKVvWo8EGgYwue3juQs=\");\n\n_c = YearChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"YearChart\");","map":{"version":3,"sources":["/Users/deepika/Documents/Visualization_D3_React_JS/Lab2/frontend/visualization/src/components/YearChart.js"],"names":["React","useEffect","useRef","useState","d3","axios","YearChart","country","svgRef","wrapperRef","clearBoard","accessToRef","select","current","selectAll","remove","draw","data","margin","top","right","bottom","left","width","height","svg","append","attr","x","scaleBand","range","domain","map","d","year","padding","call","axisBottom","style","y","scaleLinear","max","expectancy","axisLeft","enter","bandwidth","transition","duration","delay","i","console","log","horizontal","on","method","url","then","repos","allRepos","parsedResponse","JSON","parse","tmpData","forEach","ele","Country","obj","Year","push","sort","a","b"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from \"d3\";\nimport axios from 'axios';\n\nexport function YearChart({country}){\n\n\n    const svgRef = useRef();\n    const wrapperRef = useRef();\n\n    const clearBoard=()=>{\n        const accessToRef = d3.select(svgRef.current)\n        accessToRef.selectAll(\"svg > *\").remove();\n    }\n\n    const draw = (data) =>{\n\n        // set the dimensions and margins of the graph\n        var margin = {top: 10, right: 30, bottom: 90, left: 40},\n        width = 460 - margin.left - margin.right,\n        height = 450 - margin.top - margin.bottom;\n\n        // append the svg object to the body of the page\n        var svg = d3.select(svgRef.current)\n            .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        // X axis\n        var x = d3.scaleBand()\n            .range([ 0, width ])\n            .domain(data.map(function(d) { return d.year; }))\n            .padding(0.2);\n\n        svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))\n        .selectAll(\"text\")\n        .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n        .style(\"text-anchor\", \"end\");\n\n        // Add Y axis\n        var y = d3.scaleLinear()\n            .domain([0, d3.max(data, (d) => d.expectancy)])\n            .range([ height, 0]);\n            svg.append(\"g\")\n            .call(d3.axisLeft(y));\n\n        // Bars\n        svg.selectAll(\"mybar\")\n            .data(data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", function(d) { return x(d.year); })\n            .attr(\"width\", x.bandwidth())\n            .attr(\"fill\", \"#69b3a2\")\n            // no bar at the beginning thus:\n            .attr(\"height\", function(d) { return height - y(0); }) // always equal to 0\n            .attr(\"y\", function(d) { return y(0); })\n\n        // Animation\n        svg.selectAll(\"rect\")\n            .transition()\n            .duration(800)\n            .attr(\"y\", function(d) { return y(d.expectancy); })\n            .attr(\"height\", function(d) { return height - y(d.expectancy); })\n            .delay(function(d,i){console.log(i) ; return(i*100)})\n\n\n    }\n\n    const horizontal = (data) => {\n\n        \n        // D3 code here\n        var margin = {top: 20, right: 30, bottom: 40, left: 90},\n            width = 460 - margin.left - margin.right,\n            height = 400 - margin.top - margin.bottom;\n\n        // append the svg object to the body of the page\n        var svg = d3.select(svgRef.current)\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            // .style(\"background-color\",\"red\")\n        .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        // Add X axis\n        var x = d3.scaleLinear()\n        .domain([0, d3.max(data, (d) => d.expectancy)])\n        .range([ 0, width]);\n        \n        svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))\n        .selectAll(\"text\")\n            .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n            .style(\"text-anchor\", \"end\")\n            .attr('fill','blue');\n\n        // Y axis\n        var y = d3.scaleBand()\n        .range([ 0, height ])\n        .domain(data.map(function(d) { return d.year; }))\n        .padding(.1);\n        \n        svg.append(\"g\")\n        .call(d3.axisLeft(y))\n        .selectAll(\"text\")\n        .attr('fill','blue')\n        \n\n        //Bars\n        svg.selectAll(\"myRect\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", x(0) )\n        .attr(\"y\", function(d) { return y(d.year); })\n        .attr(\"width\", function(d) { return x(d.expectancy-10); })\n        .attr(\"height\", y.bandwidth() )\n        // .attr(\"fill\", \"#69b3a2\")\n        .attr(\"fill\",\"pink\")\n        .on('click',d=>{\n            console.log(\"here\",d)\n            \n        });\n\n\n\n      \n    }\n\n    \n\n    useEffect(()=>{\n        console.log(\"year chart\")\n        axios({\n            method: \"GET\",\n            url:\"http://localhost:8000/getAllData\"\n          }).then((repos) => {\n            const allRepos = repos.data;\n            let parsedResponse = JSON.parse(allRepos);\n            let tmpData = [];\n            parsedResponse.forEach((ele)=>{\n                if(ele.Country==country){\n                    let obj = {};\n                    obj.year = ele.Year;\n                    obj.expectancy = ele['Life Expectancy'];\n                    tmpData.push(obj);\n                }\n            })\n            tmpData = [...tmpData].sort((a,b)=>b.year - a.year)\n            clearBoard();\n            // horizontal(tmpData);\n            draw(tmpData);\n            // setScreeState(allRepos);\n          });\n      \n\n        \n        // draw(data);\n        \n    },[country])\n    \n    return (\n        <div ref={wrapperRef}>\n          <svg ref={svgRef} style={{width:\"500px\",height:\"400px\"}}>\n          </svg>\n        </div>\n      );\n}"]},"metadata":{},"sourceType":"module"}